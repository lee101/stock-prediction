<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Provider Latency History</title>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; margin: 24px; }
    #chart { width: 100%; max-width: 960px; height: 480px; }
  </style>
</head>
<body>
  <h1>Provider Latency History</h1>
  <div id="chart"></div>
  <script>
    const data = [{"name": "yahoo", "timestamps": ["2025-10-24T20:21:04.443417+00:00", "2025-10-24T20:23:27.838369+00:00", "2025-10-24T20:25:51.260764+00:00", "2025-10-24T20:27:55.847012+00:00", "2025-10-24T20:28:38.416155+00:00", "2025-10-24T20:44:17.409498+00:00", "2025-10-24T20:46:07.210709+00:00", "2025-10-24T20:46:47.722111+00:00", "2025-10-24T20:48:16.639270+00:00", "2025-10-24T20:49:56.214518+00:00", "2025-10-24T20:55:31.190426+00:00", "2025-10-24T21:00:00.933661+00:00", "2025-10-24T21:06:53.315959+00:00", "2025-10-24T21:12:39.980206+00:00", "2025-10-24T21:25:03.216930+00:00", "2025-10-24T21:37:09.952084+00:00", "2025-10-24T21:41:14.505070+00:00", "2025-10-24T21:52:07.207781+00:00", "2025-10-24T22:02:50.441448+00:00", "2025-10-24T22:06:21.339816+00:00"], "avg_ms": [312.97275, 314.3834, 315.8876, 317.9346, 318.5348, 319.3916, 320.3726, 321.1802, 321.9686, 322.7344, 323.5032, 322.965, 322.656, 322.5504, 322.5186, 322.5224, 322.525, 322.7188, 322.8428, 322.8528], "p95_ms": [340.08525, 341.8832, 345.24399999999997, 347.985, 348.1696, 349.36019999999996, 350.8628, 352.1854, 352.2296, 354.6482, 357.13779999999997, 357.931, 358.36879999999996, 360.2056, 362.0868, 364.0282, 364.8598, 367.0994, 368.9964, 369.7084]}];
    const traces = data.map(provider => ({
      x: provider.timestamps,
      y: provider.avg_ms,
      name: provider.name + ' avg',
      mode: 'lines+markers'
    })).concat(data.map(provider => ({
      x: provider.timestamps,
      y: provider.p95_ms,
      name: provider.name + ' p95',
      mode: 'lines',
      line: { dash: 'dash' }
    })));
    Plotly.newPlot('chart', traces, {
      margin: { t: 40 },
      xaxis: { title: 'Timestamp' },
      yaxis: { title: 'Latency (ms)' },
      legend: { orientation: 'h' }
    });
  </script>
</body>
</html>
